Great! Now let‚Äôs add **Wishlist functionality** using `WishlistContext`, just like we did for the cart. This will allow:

* ‚≠ê Adding/removing courses to/from wishlist
* üìÑ Showing wishlisted courses on `/wishlist`
* üõí Option to move a course from wishlist to cart

---

## ‚úÖ Step 10: Create Wishlist Context

---

### üìÅ 1. **Create `WishlistContext.tsx`**

In `src/context/`, create:

```
WishlistContext.tsx
```

---

### üß† 2. **Paste this code into `WishlistContext.tsx`**

```tsx
import React, { createContext, useContext, useState, ReactNode } from 'react';
import { Course } from '../types/Course';

interface WishlistContextType {
  wishlist: Course[];
  addToWishlist: (course: Course) => void;
  removeFromWishlist: (id: string) => void;
  isInWishlist: (id: string) => boolean;
}

const WishlistContext = createContext<WishlistContextType | undefined>(undefined);

export const useWishlist = () => {
  const context = useContext(WishlistContext);
  if (!context) throw new Error('useWishlist must be used within WishlistProvider');
  return context;
};

export const WishlistProvider = ({ children }: { children: ReactNode }) => {
  const [wishlist, setWishlist] = useState<Course[]>([]);

  const addToWishlist = (course: Course) => {
    if (wishlist.find(c => c.id === course.id)) {
      alert(`"${course.title}" is already in your wishlist.`);
      return;
    }
    setWishlist(prev => [...prev, course]);
    alert(`"${course.title}" added to wishlist.`);
  };

  const removeFromWishlist = (id: string) => {
    setWishlist(prev => prev.filter(c => c.id !== id));
  };

  const isInWishlist = (id: string) => {
    return wishlist.some(c => c.id === id);
  };

  return (
    <WishlistContext.Provider value={{ wishlist, addToWishlist, removeFromWishlist, isInWishlist }}>
      {children}
    </WishlistContext.Provider>
  );
};
```

---

### üß© 3. **Wrap App with `WishlistProvider`**

Open `src/index.tsx`, and update like this:

```tsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import { BrowserRouter } from 'react-router-dom';
import App from './App';
import './index.css';
import { CartProvider } from './context/CartContext';
import { WishlistProvider } from './context/WishlistContext';

const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);

root.render(
  <BrowserRouter>
    <CartProvider>
      <WishlistProvider>
        <App />
      </WishlistProvider>
    </CartProvider>
  </BrowserRouter>
);
```

---

### üìÑ 4. **Update `Home.tsx` to use global wishlist**

Update `Home.tsx`:

```tsx
import { useCart } from '../context/CartContext';
import { useWishlist } from '../context/WishlistContext';

// Inside Home component
const { addToCart, isInCart } = useCart();
const { addToWishlist, isInWishlist } = useWishlist();

// Replace local wishlist logic:
const handleAddToWishlist = (course: Course) => {
  addToWishlist(course);
};

// In render:
isWishlisted={isInWishlist(course.id)}
```

‚úÖ Now your wishlist is globally managed!

---

### üßæ 5. **Update `Wishlist.tsx` to display wishlist items**

Open `src/pages/Wishlist.tsx` and replace with:

```tsx
import { useWishlist } from '../context/WishlistContext';
import { useCart } from '../context/CartContext';

function Wishlist() {
  const { wishlist, removeFromWishlist } = useWishlist();
  const { addToCart } = useCart();

  const moveToCart = (course: any) => {
    addToCart(course);
    removeFromWishlist(course.id);
  };

  return (
    <div>
      <h2>‚≠ê My Wishlist</h2>
      {wishlist.length === 0 ? (
        <p>Your wishlist is empty.</p>
      ) : (
        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1rem' }}>
          {wishlist.map(course => (
            <div key={course.id} style={{ border: '1px solid #ccc', padding: '1rem', borderRadius: '8px', width: '250px' }}>
              <h4>{course.title}</h4>
              <p>{course.description}</p>
              <p>Price: ‚Çπ{course.discountedPrice || course.price}</p>
              <button onClick={() => moveToCart(course)}>Move to Cart</button>
              <button onClick={() => removeFromWishlist(course.id)}>Remove</button>
            </div>
          ))}
        </div>
      )}
    </div>
  );
}

export default Wishlist;
```

---

### ‚úÖ Final Test

1. Click ‚≠ê on any course ‚Üí added to wishlist
2. Go to `/wishlist`
3. See list of items
4. Click **Move to Cart** ‚Üí item disappears from wishlist and added to cart
5. CartWidget shows it!

---

‚úÖ Let me know once you‚Äôve tested this.

Next we‚Äôll:

* ‚úÖ Create `CourseDetails.tsx` page (with full info + sale timer + video preview)

Ready to build that?
